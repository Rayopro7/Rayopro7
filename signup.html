<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Signup | Rayopro7 Academy</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="course-page">

<div class="container">
  <h1>🎓 Create Your Account</h1>

  <form id="signupForm">
    <input type="text" id="name" placeholder="Your Name" required><br><br>
    <input type="email" id="email" placeholder="Your Email" required><br><br>
    <input type="password" id="password" placeholder="Create Password" required><br><br>

    <button type="submit">Sign Up</button>
  </form>
</div>

<script>
  document.getElementById("signupForm").addEventListener("submit", function(e) {
  e.preventDefault();

  const name = document.getElementById("name").value;
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;

  let students = JSON.parse(localStorage.getItem('students')) || [];

  // Check if email already exists
  const exists = students.find(student => student.email === email);

  if (exists) {
    alert("❌ Email already registered. Please login instead.");
    window.location.href = "login.html";
  } else {
    // Create new student
    const newStudent = {
      name: name,
      email: email,
      password: password,
      completedCourses: [],
      progress: { python: 0 }
    };

    students.push(newStudent);
    localStorage.setItem('students', JSON.stringify(students));
    localStorage.setItem('currentUser', JSON.stringify(newStudent));

    alert("✅ Registration successful!");
    window.location.href = "dashboard.html";
  }
});

</script>

</body>
</html>

